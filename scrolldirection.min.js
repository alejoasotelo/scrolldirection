jQuery.fn.extend({scrollDirection:function(o,t){var l=this;this.$obj=jQuery(this),"function"==typeof o?(t=o,this.threshold=200):this.threshold="defined"!=typeof o?o:200,this.lastPageY=0,this.debounce=function(o,t,l){var n;return function(){var i=this,s=arguments,r=function(){n=null,l||o.apply(i,s)},e=l&&!n;clearTimeout(n),n=setTimeout(r,t),e&&o.apply(i,s)}},this.scrollHandler=this.debounce(function(){var o=window.pageYOffset;Math.abs(o-l.lastPageY)>l.threshold&&(o>l.lastPageY?(t("scrolldown"),l.$obj.trigger("scrolldown")):o<l.lastPageY&&(t("scrollup"),l.$obj.trigger("scrollup")),l.lastPageY=o)},250),this.$obj.bind("scroll",l.scrollHandler)},onScrollUp:function(o){this.scrollDirection(function(t){"scrollup"==t&&o()})},onScrollDown:function(o){this.scrollDirection(function(t){"scrolldown"==t&&o()})}});